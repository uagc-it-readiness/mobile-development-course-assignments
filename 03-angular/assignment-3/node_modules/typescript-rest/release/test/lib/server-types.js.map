{"version":3,"sources":["server-types.js","../../src/lib/server-types.ts"],"names":["__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","HttpMethod","exports","ServiceContext","HttpError","_super","name","statusCode","message","_this","call","Error","ReferencedResource","location"],"mappings":"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","file":"server-types.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar HttpMethod;\n(function (HttpMethod) {\n    HttpMethod[HttpMethod[\"GET\"] = 0] = \"GET\";\n    HttpMethod[HttpMethod[\"POST\"] = 1] = \"POST\";\n    HttpMethod[HttpMethod[\"PUT\"] = 2] = \"PUT\";\n    HttpMethod[HttpMethod[\"DELETE\"] = 3] = \"DELETE\";\n    HttpMethod[HttpMethod[\"HEAD\"] = 4] = \"HEAD\";\n    HttpMethod[HttpMethod[\"OPTIONS\"] = 5] = \"OPTIONS\";\n    HttpMethod[HttpMethod[\"PATCH\"] = 6] = \"PATCH\";\n})(HttpMethod = exports.HttpMethod || (exports.HttpMethod = {}));\nvar ServiceContext = (function () {\n    function ServiceContext() {\n    }\n    return ServiceContext;\n}());\nexports.ServiceContext = ServiceContext;\nvar HttpError = (function (_super) {\n    __extends(HttpError, _super);\n    function HttpError(name, statusCode, message) {\n        var _this = _super.call(this, message) || this;\n        _this.statusCode = statusCode;\n        _this.message = message;\n        _this.name = name;\n        return _this;\n    }\n    return HttpError;\n}(Error));\nexports.HttpError = HttpError;\nvar ReferencedResource = (function () {\n    function ReferencedResource(location, statusCode) {\n        this.location = location;\n        this.statusCode = statusCode;\n    }\n    return ReferencedResource;\n}());\nexports.ReferencedResource = ReferencedResource;\n","\"use strict\";\n\nimport * as express from \"express\"; \n\n/**\n * The supported HTTP methods.\n */\nexport enum HttpMethod {\n\tGET,\n\tPOST,\n\tPUT,\n\tDELETE,\n\tHEAD,\n\tOPTIONS,\n\tPATCH\n}\n\n/**\n * Represents the current context of the request being handled.\n */\nexport class ServiceContext {\n\t/**\n\t * The resolved language to be used in the current request handling. \n\t */\n\tlanguage: string;\n\t/**\n\t * The preferred media type to be used in the current request handling. \n\t */\n\taccept: string;\n\t/**\n\t * The request object. \n\t */\n\trequest: express.Request;\n\t/**\n\t * The response object \n\t */\n\tresponse: express.Response; \n\t/**\n\t * The next function. It can be used to delegate to the next middleware\n\t * registered the processing of the current request. \n\t */\n\tnext: express.NextFunction;\n}\n\n/**\n * The Base class for all HTTP errors\n */\nexport abstract class HttpError extends Error {\n  constructor(name: string, \n  \t\t\t  public statusCode: number, \n  \t\t\t  public message: string) {\n    super(message);\n    this.name = name;\n  }\n}\n\n/**\n * Used to create a reference to a resource.\n */\nexport abstract class ReferencedResource {\n\t/**\n\t * Constructor. Receives the location of the resource.\n\t * @param location To be added to the Location header on response\n\t * @param statusCode the response status code to be sent\n\t */\n\tconstructor(public location: string, public statusCode: number) {}\n}\n\n/**\n * The factory used to instantiate the object services\n */\nexport interface ServiceFactory {\n\t/**\n\t * Create a new service object. Called before each request handling.\n\t */\n\tcreate: (serviceClass: Function) => any,\n\t/**\n\t * Return the type used to handle requests to the target service.\n\t * By default, returns the serviceClass received, but you can use this\n\t * to implement IoC integrations.\n\t */\n\tgetTargetClass: (serviceClass: Function) => FunctionConstructor;\n}\n\n"]}